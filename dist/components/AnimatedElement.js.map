{"version":3,"sources":["../../src/components/AnimatedElement.jsx"],"names":[],"mappings":"AAAA,YAAY,CAAC;;AAEb,IAAM,eAAe,GAAG,KAAK,CAAC,WAAW,CAAC;;;AACzC,UAAS,EAAE;AACV,oBAAkB,EAAE,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU;AACnD,oBAAkB,EAAE,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU;EACnD;AACD,gBAAe,6BAAG;AACjB,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,QAAQ,CAAC,CAAC;AACpD,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;AAC9C,MAAM,aAAa,GAAG,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,YAAY,IAAI,GAAG,CAAC;AACnF,MAAM,GAAG,6BAA2B,MAAM,kBACvC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,aAAa,CAAC,EAAE,UAAC,KAAK,EAAE,GAAG,EAAE,IAAI,EAAK;AACxD,UAAU,IAAI,CAAC,KAAK,CAAC,KAAK,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,CAAA,AAAC,GAAG,GAAG,CAAC,UAAO;GAC5D,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,YACZ,CAAC;;AAEH,OAAK,CAAC,IAAI,GAAG,UAAU,CAAC;AACxB,OAAK,CAAC,WAAW,CAAC,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC;;AAEhD,UAAQ,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;;AAE5D,SAAO;AACN,SAAM,EAAN,MAAM;AACN,QAAK,EAAL,KAAK;GACL,CAAC;EACF;AACD,kBAAiB,+BAAG;AACnB,MAAI,CAAC,eAAe,EAAE,CAAC;EACvB;AACD,qBAAoB,kCAAG;AACtB,MAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;EAC1B;AACD,mBAAkB,gCAAG;AACpB,MAAI,CAAC,eAAe,EAAE,CAAC;EACvB;AACD,gBAAe,6BAAG;;;AACjB,GAAC,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE,UAAC,OAAO,EAAE,KAAK,EAAE,IAAI,EAAK;AAC7E,OAAM,QAAQ,GAAG,KAAK,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,CAAA,AAAC,CAAC;AAC3C,OAAM,kBAAkB,GAAG,MAAK,KAAK,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;AACnE,OAAM,kBAAkB,GAAG,MAAK,KAAK,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC;AACnE,UAAO,CAAC,KAAK,CAAC,SAAS,kBAAgB,kBAAkB,GAAG,GAAG,YAAO,kBAAkB,GAAG,GAAG,QAAK,CAAC;GACpG,CAAC,CAAC;EACH;AACD,OAAM,oBAAG;AACR,SACC;AACC,YAAS,EAAC,iBAAiB;AAC3B,QAAK,EAAE,EAAC,SAAS,oBAAkB,IAAI,CAAC,KAAK,CAAC,MAAM,qBAAkB,EAAC,AAAC;IAEnE,CACL;EACF;CACD,CAAC,CAAC","file":"AnimatedElement.js","sourcesContent":["\"use strict\";\n\nconst AnimatedElement = React.createClass({\n\tpropTypes: {\n\t\tanimationFunctionX: React.PropTypes.func.isRequired,\n\t\tanimationFunctionY: React.PropTypes.func.isRequired\n\t},\n\tgetInitialState() {\n\t\tconst random = Math.round(Math.random() * 10000000);\n\t\tconst style = document.createElement(\"style\");\n\t\tconst keyframesNums = URI(window.location.search).search(true).keyframesNum || 100;\n\t\tconst css = `@keyframes animation_${random} {\n\t\t\t${_.map(_.range(0, keyframesNums), (index, idx, list) => {\n\t\t\t\treturn `${Math.round(index / (list.length - 1) * 100)}% {}`;\n\t\t\t}).join(\"\\n\")}\n\t\t}`;\n\n\t\tstyle.type = \"text/css\";\n\t\tstyle.appendChild(document.createTextNode(css));\n\n\t\tdocument.getElementsByTagName(\"head\")[0].appendChild(style);\n\n\t\treturn {\n\t\t\trandom,\n\t\t\tstyle\n\t\t};\n\t},\n\tcomponentDidMount() {\n\t\tthis.updateAnimation();\n\t},\n\tcomponentWillUnmount() {\n\t\tthis.state.style.remove();\n\t},\n\tcomponentDidUpdate() {\n\t\tthis.updateAnimation();\n\t},\n\tupdateAnimation() {\n\t\t_.each(this.state.style.sheet.cssRules[0].cssRules, (cssRule, index, list) => {\n\t\t\tconst position = index / (list.length - 1);\n\t\t\tconst animationPositionX = this.props.animationFunctionX(position);\n\t\t\tconst animationPositionY = this.props.animationFunctionY(position);\n\t\t\tcssRule.style.transform = `translate(${animationPositionX * 100}px, ${animationPositionY * 100}px)`;\n\t\t});\n\t},\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"AnimatedElement\"\n\t\t\t\tstyle={{animation: `5s animation_${this.state.random} infinite linear`}}\n\t\t\t>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n"]}